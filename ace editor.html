<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <meta http-equiv="X-UA-Compatible"
              content="IE=edge,chrome=1">
        <title>
            new.js
        </title>
        <link rel="stylesheet"
            type="text/css"
            charset="utf8"
            href="ace editor.css" />
        <script src="ace/ace.js"
            type="text/javascript"
            charset="utf-8">
        </script>
        <!--script src="ide.jsn"
            type="text/javascript"
            charset="utf-8">
        </script-->
        <script src="ide.js"
            type="text/javascript"
            charset="utf-8">
        </script>
        <script type="text/javascript"
            type="text/javascript"
            charset="utf-8">
            var ui;
            window.addEventListener('load', function () {
                var Ui = require('./browser_modules/ace editor.js');
                var url = require('url');
                var loc = document.location.href;
                loc = loc.replace(/\?&/g, '?');
                loc = loc.replace(/(&#|&$)/g, '#');
                var options = url.parse(loc, true).query;
                ui = new Ui();
                ui.initializeAce(options);
            });
        </script>
    </head>
    <body>
        
        <div class="container" id="leftbuttons">
            <button class="button"
                id="save"
                title="save"
                onclick="ui.save()"></button>
            <br/>
            <button class="button"
                id="showKeyboardShortcuts"
                title="show keyboard shortcuts"
                onclick="ui.aceShowKeybordShortcuts()"></button>
            <br/>
            <button class="button"
                id="showSettingsMenu"
                title="show Settings Menu"
                onclick="ui.aceShowSettingsMenu()"></button>
            <br/>
            <button class="button"
                id="undo"
                title="undo"
                onclick="ui.editor.undo()"></button>
            <br/>
            <button class="button"
                id="redo"
                title="redo"
                onclick="ui.editor.redo()"></button>
            <br/>
            <button class="button"
                id="formatJs"
                title="format JavaScript"
                onclick="ui.formatJs()"></button>
            <br/>
            
        </div>
        
        <pre id="editor">
function foo(items) {
    var i;
    for (i = 0; i &lt; items.length; i++) {
        alert("Ace Rocks " + items[i]);
    }
}
</pre>
        
        <form style="display:none;"
              method="post"
              action="save.jsn">
            <p>
                <input style="display:none;"
                   type="text"
                   id="fileName"
                   name="fileName"> 

                <textarea style="display:none;"
                   id="newFile"
                   name="newFile">
</textarea>
            </p>
        </form>
    </body>
</html>
